# задание 1
[Клик, чтоб попаст к боту](https://t.me/devilboi_bot)


### что может
* добавлять в базу данных mail
* добавлять в базу данных url на квартиру
* получать данные о цене квартиры в боте
* отправялять на все добавленные mails информацию о ценах на квартиру

### что было использовано
* Библиотека для подключения бота 
* моя реализация архитектуры бота, которая значительно упростила, поэтому и использовал
* библиотека реализующая паттерн mediator, для не повторение одного и тоже кода, и меньшей связности
* Docker для создание базы данных на mySql



### что можно добавить
- можно сделать подключение почты по OAuth2.0 ради того, чтоб пользователь не мог создавать спам письма всем подряд.
- автоматическую отправку на почту. наприпер, на уровне кода каждый час бы смотрел цену на кв, если изменилась, то скидывать, но для этого нужно усложнять бд и хранить в ней цену.

### для запуска нужно
- ngrok - утилита, чтоб переадрессовывать запросы с телеграмма себе на локальную машину, ибо телеграм работает только с https (защищенным протоколом)
- docker - нужен для инициализций базы данных (это можно было бы сделать и без докера. я использую его, чтоб просто показать, что умею).


### что смотреть 
- папка Application и папка commands остальное либо используется в этих папках, либо не касается самой работы (архитекруту бота я писал до этого как хобби)


### сами запросы 
/addMail {Address} - добавить address
/addApart {urlApart} - добавить apart
/syncMails - отпавить на все почты цены


### БД
здесь я увидел пробелму, что хоть и в диаграммах один ко многу, на самом деле может быть много ко многому. пару пользоватей могут смотреть одну квартиру и тоже самое с почтой 
![image](https://github.com/nt-devilboi/TestForObjective/assets/96059564/54298d11-400d-4615-a027-68768c3160c6)
